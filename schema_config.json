{
  "name": "CLIF Schema",
  "version": "2.1.0",
  "description": "Common Longitudinal ICU Format database schema",
  "tables": {
    "patient": {
      "description": "Patient demographics and basic information",
      "file_pattern": "patient*.csv",
      "primary_key": "patient_id",
      "columns": {
        "patient_id": {"type": "string", "required": true, "description": "Unique patient identifier"},
        "sex": {"type": "string", "required": false, "description": "Patient sex"},
        "anchor_age": {"type": "integer", "required": false, "description": "Age at anchor time"},
        "race_ethnicity": {"type": "string", "required": false, "description": "Race and ethnicity"}
      }
    },
    "hospitalization": {
      "description": "Hospital admission and discharge information",
      "file_pattern": "hospitalization*.csv",
      "primary_key": "hospitalization_id",
      "foreign_keys": {"patient_id": "patient.patient_id"},
      "columns": {
        "hospitalization_id": {"type": "string", "required": true},
        "patient_id": {"type": "string", "required": true},
        "admission_time": {"type": "datetime", "required": true},
        "discharge_time": {"type": "datetime", "required": false},
        "discharge_disposition": {"type": "string", "required": false}
      }
    },
    "adt": {
      "description": "Admission, discharge, and transfer events",
      "file_pattern": "adt*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "location": {"type": "string", "required": true},
        "in_time": {"type": "datetime", "required": true},
        "out_time": {"type": "datetime", "required": false}
      }
    },
    "vitals": {
      "description": "Vital signs measurements",
      "file_pattern": "vitals*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "vital_time": {"type": "datetime", "required": true},
        "temperature": {"type": "float", "required": false},
        "heart_rate": {"type": "float", "required": false},
        "respiratory_rate": {"type": "float", "required": false},
        "sbp": {"type": "float", "required": false, "description": "Systolic blood pressure"},
        "dbp": {"type": "float", "required": false, "description": "Diastolic blood pressure"},
        "spo2": {"type": "float", "required": false, "description": "Oxygen saturation"}
      }
    },
    "labs": {
      "description": "Laboratory test results",
      "file_pattern": "labs*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "lab_time": {"type": "datetime", "required": true},
        "test_name": {"type": "string", "required": true},
        "test_result": {"type": "float", "required": false},
        "test_units": {"type": "string", "required": false}
      }
    },
    "respiratory_support": {
      "description": "Mechanical ventilation and respiratory support",
      "file_pattern": "respiratory_support*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "device": {"type": "string", "required": true},
        "vent_start": {"type": "datetime", "required": true},
        "vent_stop": {"type": "datetime", "required": false}
      }
    },
    "medication_administration": {
      "description": "Medication administration records",
      "file_pattern": "medication_administration*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "medication": {"type": "string", "required": true},
        "admin_time": {"type": "datetime", "required": true},
        "dose": {"type": "float", "required": false},
        "dose_units": {"type": "string", "required": false},
        "route": {"type": "string", "required": false}
      }
    },
    "patient_assessments": {
      "description": "Clinical assessment scores",
      "file_pattern": "patient_assessments*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "assessment_time": {"type": "datetime", "required": true},
        "assessment_name": {"type": "string", "required": true},
        "assessment_value": {"type": "float", "required": false}
      }
    },
    "position": {
      "description": "Patient positioning data",
      "file_pattern": "position*.csv",
      "foreign_keys": {"patient_id": "patient.patient_id", "hospitalization_id": "hospitalization.hospitalization_id"},
      "columns": {
        "patient_id": {"type": "string", "required": true},
        "hospitalization_id": {"type": "string", "required": true},
        "position_time": {"type": "datetime", "required": true},
        "position": {"type": "string", "required": true}
      }
    }
  }
}